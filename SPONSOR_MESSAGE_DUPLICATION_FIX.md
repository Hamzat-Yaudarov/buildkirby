# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Å–ø–æ–Ω—Å–æ—Ä—Å–∫–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π

## –ü—Ä–æ–±–ª–µ–º–∞
–ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–ª —Ç–æ–ª—å–∫–æ 2 —Å–æ–æ–±—â–µ–Ω–∏—è —Å–æ —Å–ø–æ–Ω—Å–æ—Ä—Å–∫–∏–º–∏ –∫–∞–Ω–∞–ª–∞–º–∏ –∏–∑-–∑–∞ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –ª–æ–≥–∏–∫–∏ –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `checkUserSubscription()`.

### –ü—Ä–∏—á–∏–Ω–∞ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è:
1. **–î–≤–æ–π–Ω–æ–π –ø—É—Ç—å –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Å—ã–ª–æ–∫**: 
   - –ü—Ä–∏ –æ—à–∏–±–∫–µ API –≤—ã–∑—ã–≤–∞–ª—Å—è `getChannelLinks()` –∫–∞–∫ fallback
   - –ü—Ä–∏ —Å—Ç–∞—Ç—É—Å–µ "warning" –±–µ–∑ —Å—Å—ã–ª–æ–∫ —Å–Ω–æ–≤–∞ –≤—ã–∑—ã–≤–∞–ª—Å—è `getChannelLinks()`

2. **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏**: –¶–∏–∫–ª –ø–æ–ø—ã—Ç–æ–∫ –º–æ–≥ –≤—ã–∑—ã–≤–∞—Ç—å API –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑

3. **–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è –∑–∞—â–∏—Ç–∞**: –í—Ä–µ–º—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ 30 —Å–µ–∫—É–Ω–¥ –±—ã–ª–æ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∏–º

## –í–Ω–µ—Å–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. –£–ø—Ä–æ—â–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –≤ `checkUserSubscription()` (—Å—Ç—Ä–æ–∫–∏ 299-344)
```javascript
// –†–ê–ù–¨–®–ï: –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –≤—ã–∑–æ–≤—ã getChannelLinks()
// –ü—Ä–∏ –æ—à–∏–±–∫–µ -> getChannelLinks() -> fallback –∫ –∫–µ—à—É -> —Å—Ç—Ä–æ–≥–∏–π fallback
// –ü—Ä–∏ warning -> —Ü–∏–∫–ª –ø–æ–ø—ã—Ç–æ–∫ —Å getChannelLinks()

// –°–ï–ô–ß–ê–°: –ø—Ä–æ—Å—Ç–∞—è –ª–æ–≥–∏–∫–∞
// –ü—Ä–∏ –æ—à–∏–±–∫–µ -> —Ç–æ–ª—å–∫–æ –∫–µ—à fallback -> —Å—Ç—Ä–æ–≥–∏–π fallback
// –ü—Ä–∏ warning -> –æ–¥–∏–Ω –≤—ã–∑–æ–≤ getChannelLinks() -> –≤–æ–∑–≤—Ä–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
```

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- ‚ùå –£–±—Ä–∞–Ω –¥—É–±–ª–∏—Ä—É—é—â–∏–π –≤—ã–∑–æ–≤ `getChannelLinks()` –ø—Ä–∏ –æ—à–∏–±–∫–µ API
- ‚ùå –£–±—Ä–∞–Ω —Ü–∏–∫–ª –ø–æ–ø—ã—Ç–æ–∫ –ø—Ä–∏ —Å—Ç–∞—Ç—É—Å–µ "warning"
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –Ω–µ–º–µ–¥–ª–µ–Ω–Ω—ã–π –≤–æ–∑–≤—Ä–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ `getChannelLinks()`

### 2. –£—Å–∏–ª–µ–Ω–∏–µ –∑–∞—â–∏—Ç—ã –æ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è (—Å—Ç—Ä–æ–∫–∞ 79)
```javascript
// –†–ê–ù–¨–®–ï: 30 —Å–µ–∫—É–Ω–¥ –∑–∞—â–∏—Ç–∞
if (lastMessage && (now - lastMessage) < 30000)

// –°–ï–ô–ß–ê–°: 8 —Å–µ–∫—É–Ω–¥ —É—Å–∏–ª–µ–Ω–Ω–∞—è –∑–∞—â–∏—Ç–∞  
if (lastMessage && (now - lastMessage) < 8000)
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç
- ‚úÖ –£—Å—Ç—Ä–∞–Ω–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–æ–Ω—Å–æ—Ä—Å–∫–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- ‚úÖ –£–ø—Ä–æ—â–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ø–∏—Å–∫–∏
- ‚úÖ –£—Å–∏–ª–µ–Ω–∞ –∑–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–∞–º–∞
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å fallback —á–µ—Ä–µ–∑ –∫–µ—à

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É `/start` —Å –Ω–æ–≤—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
3. –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ 1 —Å–ø–æ–Ω—Å–æ—Ä—Å–∫–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –∫–Ω–æ–ø–∫–∏ "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫–∏"

## –õ–æ–≥–∏ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
–°–ª–µ–¥–∏—Ç–µ –∑–∞ –ª–æ–≥–∞–º–∏:
- `üåê SubGram checkSubscription –∑–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è`
- `üîÑ –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º —Å—Å—ã–ª–∫–∏ –∫–∞–Ω–∞–ª–æ–≤ —á–µ—Ä–µ–∑ getChannelLinks`
- `üõ°Ô∏è –ë–õ–û–ö–ò–†–û–í–ê–õ: –Ω–µ–¥–∞–≤–Ω–æ —É–∂–µ –æ—Ç–ø—Ä–∞–≤–∏–ª–∏ —Å–ø–æ–Ω—Å–æ—Ä—Å–∫–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ`
